import{r as m,e as _,d as S,u as $,c as r,a as e,t as o,b as i,F as w,f as C,w as K,g as k,v as M,i as N,h as D,n as x,j as q,k as B,l as F,o as c}from"./vue-vendor-BLy7Ta_u.js";import{a as H,_ as V}from"./_plugin-vue_export-helper-BkCLdZia.js";const j=f=>{const s=m(""),g=(a,n)=>{if(!n.trim())return a;const y=new RegExp(`(${n})`,"gi");return a.replace(y,"<mark>$1</mark>")},v=_(()=>{const a=s.value.trim().toLowerCase();return a?f.filter(n=>[n.title,n.description,n.content,n.tag,n.categoryKey].join(" ").toLowerCase().includes(a)):f}),h=_(()=>{const a=s.value.trim();return a?v.value.map(n=>({...n,highlightedTitle:g(n.title,a),highlightedDescription:g(n.description,a)})):[]});return{searchQuery:s,searchResults:v,highlightedResults:h,clearSearch:()=>{s.value=""}}},z={class:"layout"},E={class:"hero"},I={class:"content"},P={class:"sidebar"},Q={class:"filter-title"},U={class:"category-list"},G=["onClick"],J={class:"article-area"},O={class:"search-section"},W={class:"search-box"},X=["placeholder"],Y={class:"list-header"},Z={class:"article-count"},ee={key:0,class:"search-hint"},te={class:"header-actions"},se={class:"articles"},ae=["onClick","onKeyup"],le={key:0,class:"badge"},ne={class:"card-body"},oe={class:"tag-row"},ie={class:"tag"},re=["innerHTML"],ce=["innerHTML"],ue={class:"meta"},de={key:0,class:"empty-state"},he=S({__name:"ArticlesPage",setup(f){const{t:s}=$(),g=q(),v=_(()=>[{key:"all",label:s("categories.all")},{key:"dit",label:s("categories.dit")},{key:"luna",label:s("categories.luna")},{key:"note",label:s("categories.note")},{key:"art",label:s("categories.art")},{key:"travel",label:s("categories.travel")}]),h=m("all"),p=m(!0),{searchQuery:a,searchResults:n,highlightedResults:y}=j(H),T=u=>{g.push({name:"articleDetail",params:{id:u}})},R=()=>{g.push({name:"articleNew"})},b=_(()=>{let u=n.value;return h.value!=="all"&&(u=u.filter(l=>l.categoryKey===h.value)),u.slice().sort((l,t)=>{const d=new Date(l.date).getTime()-new Date(t.date).getTime();return p.value?-d:d})}),L=_(()=>a.value.trim()?b.value.map(l=>{const t=y.value.find(d=>d.id===l.id);return t?{...l,highlightedTitle:t.highlightedTitle,highlightedDescription:t.highlightedDescription}:l}):b.value),A=()=>{p.value=!p.value};return(u,l)=>(c(),r("main",z,[e("section",E,[e("h1",null,o(i(s)("hero.articlesTitle")),1),e("p",null,o(i(s)("hero.articlesDesc")),1)]),e("section",I,[e("aside",P,[e("div",Q,[l[2]||(l[2]=e("span",{class:"filter-icon"},"âŒ˜",-1)),e("span",null,o(i(s)("filter.category")),1)]),e("div",U,[(c(!0),r(w,null,C(v.value,t=>(c(),r("button",{key:t.key,class:x(["category-item",{active:h.value===t.key}]),type:"button",onClick:d=>h.value=t.key},o(t.label),11,G))),128))])]),e("section",J,[e("div",O,[e("div",W,[l[3]||(l[3]=e("span",{class:"search-icon"},"ðŸ”",-1)),K(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>N(a)?a.value=t:null),type:"text",class:"search-input",placeholder:i(s)("search.placeholder")},null,8,X),[[M,i(a)]]),i(a)?(c(),r("button",{key:0,class:"clear-btn",type:"button",onClick:l[1]||(l[1]=t=>a.value="")}," Ã— ")):k("",!0)])]),e("div",Y,[e("div",Z,[D(o(i(s)("articles.count",{count:b.value.length}))+" ",1),i(a)?(c(),r("span",ee,o(i(s)("search.results",{query:i(a)})),1)):k("",!0)]),e("div",te,[e("button",{class:"new-article-btn",type:"button",onClick:R}," + "+o(i(s)("article.new")),1),e("button",{class:"sort-btn",type:"button",onClick:A},[D(o(i(s)("actions.sortByTime"))+" ",1),e("span",{class:x(["arrow",{rotated:!p.value}])},"âŒ„",2)])])]),e("div",se,[(c(!0),r(w,null,C(L.value,t=>(c(),r("article",{key:t.id,class:"article-card",role:"button",tabindex:"0",onClick:d=>T(t.id),onKeyup:B(d=>T(t.id),["enter"])},[e("div",{class:"card-cover",style:F({background:t.cover})},[t.badge?(c(),r("span",le,o(t.badge),1)):k("",!0)],4),e("div",ne,[e("div",oe,[e("span",ie,o(t.tag),1)]),e("span",{class:"title",innerHTML:t.highlightedTitle||t.title},null,8,re),e("p",{class:"description",innerHTML:t.highlightedDescription||t.description},null,8,ce),e("div",ue,[e("span",null,o(t.date),1),l[4]||(l[4]=e("span",{class:"dot"},"Â·",-1)),e("span",null,o(t.platform),1)])])],40,ae))),128)),b.value.length===0?(c(),r("div",de,[e("p",null,o(i(s)("search.noResults")),1)])):k("",!0)])])])]))}}),_e=V(he,[["__scopeId","data-v-c65dbb28"]]);export{_e as default};
