import{r as f,e as _,d as S,u as $,c as r,a as e,t as o,b as i,F as T,i as C,w as K,h as k,v as M,l as N,k as D,n as x,m as q,p as B,j as F,o as c}from"./vue-vendor-DqEEYNwr.js";import{a as H}from"./index-CFDytPUp.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./math-vendor-C4rbpj_m.js";import"./markdown-vendor-BDlm1NQN.js";const j=m=>{const s=f(""),p=(a,n)=>{if(!n.trim())return a;const y=new RegExp(`(${n})`,"gi");return a.replace(y,"<mark>$1</mark>")},v=_(()=>{const a=s.value.trim().toLowerCase();return a?m.filter(n=>[n.title,n.description,n.content,n.tag,n.categoryKey].join(" ").toLowerCase().includes(a)):m}),h=_(()=>{const a=s.value.trim();return a?v.value.map(n=>({...n,highlightedTitle:p(n.title,a),highlightedDescription:p(n.description,a)})):[]});return{searchQuery:s,searchResults:v,highlightedResults:h,clearSearch:()=>{s.value=""}}},z={class:"layout"},E={class:"content"},I={class:"sidebar"},P={class:"filter-title"},Q={class:"category-list"},U=["onClick"],G={class:"article-area"},J={class:"search-section"},O={class:"search-box"},W=["placeholder"],X={class:"list-header"},Y={class:"article-count"},Z={key:0,class:"search-hint"},ee={class:"header-actions"},te={class:"articles"},se=["onClick","onKeyup"],ae={key:0,class:"badge"},le={class:"card-body"},ne={class:"tag-row"},oe={class:"tag"},ie=["innerHTML"],re=["innerHTML"],ce={class:"meta"},de={key:0,class:"empty-state"},ue=S({__name:"ArticlesPage",setup(m){const{t:s}=$(),p=q(),v=_(()=>[{key:"all",label:s("categories.all")},{key:"dit",label:s("categories.dit")},{key:"luna",label:s("categories.luna")},{key:"note",label:s("categories.note")},{key:"art",label:s("categories.art")},{key:"travel",label:s("categories.travel")}]),h=f("all"),g=f(!0),{searchQuery:a,searchResults:n,highlightedResults:y}=j(H),w=d=>{p.push({name:"articleDetail",params:{id:d}})},R=()=>{p.push({name:"articleNew"})},b=_(()=>{let d=n.value;return h.value!=="all"&&(d=d.filter(l=>l.categoryKey===h.value)),d.slice().sort((l,t)=>{const u=new Date(l.date).getTime()-new Date(t.date).getTime();return g.value?-u:u})}),L=_(()=>a.value.trim()?b.value.map(l=>{const t=y.value.find(u=>u.id===l.id);return t?{...l,highlightedTitle:t.highlightedTitle,highlightedDescription:t.highlightedDescription}:l}):b.value),A=()=>{g.value=!g.value};return(d,l)=>(c(),r("main",z,[e("section",E,[e("aside",I,[e("div",P,[l[2]||(l[2]=e("span",{class:"filter-icon"},"âŒ˜",-1)),e("span",null,o(i(s)("filter.category")),1)]),e("div",Q,[(c(!0),r(T,null,C(v.value,t=>(c(),r("button",{key:t.key,class:x(["category-item",{active:h.value===t.key}]),type:"button",onClick:u=>h.value=t.key},o(t.label),11,U))),128))])]),e("section",G,[e("div",J,[e("div",O,[l[3]||(l[3]=e("span",{class:"search-icon"},"ðŸ”",-1)),K(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>N(a)?a.value=t:null),type:"text",class:"search-input",placeholder:i(s)("search.placeholder")},null,8,W),[[M,i(a)]]),i(a)?(c(),r("button",{key:0,class:"clear-btn",type:"button",onClick:l[1]||(l[1]=t=>a.value="")}," Ã— ")):k("",!0)])]),e("div",X,[e("div",Y,[D(o(i(s)("articles.count",{count:b.value.length}))+" ",1),i(a)?(c(),r("span",Z,o(i(s)("search.results",{query:i(a)})),1)):k("",!0)]),e("div",ee,[e("button",{class:"new-article-btn",type:"button",onClick:R}," + "+o(i(s)("article.new")),1),e("button",{class:"sort-btn",type:"button",onClick:A},[D(o(i(s)("actions.sortByTime"))+" ",1),e("span",{class:x(["arrow",{rotated:!g.value}])},"âŒ„",2)])])]),e("div",te,[(c(!0),r(T,null,C(L.value,t=>(c(),r("article",{key:t.id,class:"article-card",role:"button",tabindex:"0",onClick:u=>w(t.id),onKeyup:B(u=>w(t.id),["enter"])},[e("div",{class:"card-cover",style:F({background:t.cover})},[t.badge?(c(),r("span",ae,o(t.badge),1)):k("",!0)],4),e("div",le,[e("div",ne,[e("span",oe,o(t.tag),1)]),e("span",{class:"title",innerHTML:t.highlightedTitle||t.title},null,8,ie),e("p",{class:"description",innerHTML:t.highlightedDescription||t.description},null,8,re),e("div",ce,[e("span",null,o(t.date),1),l[4]||(l[4]=e("span",{class:"dot"},"Â·",-1)),e("span",null,o(t.platform),1)])])],40,se))),128)),b.value.length===0?(c(),r("div",de,[e("p",null,o(i(s)("search.noResults")),1)])):k("",!0)])])])]))}}),ye=V(ue,[["__scopeId","data-v-0c81330d"]]);export{ye as default};
